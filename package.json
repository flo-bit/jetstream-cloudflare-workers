{
  "name": "jetstream-cloudflare-worker",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "wrangler dev --test-scheduled",
    "deploy": "wrangler deploy",
    "setup": "wrangler d1 create jetstream-events && echo 'Add the database_id to wrangler.toml, then run: pnpm db:init'",
    "db:init": "wrangler d1 execute jetstream-events --file=schema.sql --local && wrangler d1 execute jetstream-events --file=schema.sql",
    "db:reset": "wrangler d1 execute jetstream-events --command='DROP TABLE IF EXISTS records; DROP TABLE IF EXISTS backfills; DROP TABLE IF EXISTS cursor' --local && wrangler d1 execute jetstream-events --file=schema.sql --local",
    "ingest": "curl -s http://localhost:8787/__scheduled?cron=*/1+*+*+*+*"
  },
  "dependencies": {
    "@atcute/atproto": "^3.1.10",
    "@atcute/client": "^4.2.1",
    "@atcute/identity-resolver": "^1.2.2",
    "@atcute/jetstream": "^1.0.2",
    "@atcute/lexicons": "^1.2.7",
    "@atcute/tid": "^1.1.1"
  },
  "devDependencies": {
    "@cloudflare/workers-types": "^4.20250124.0",
    "typescript": "^5.7.3",
    "wrangler": "^4.63.0"
  }
}
